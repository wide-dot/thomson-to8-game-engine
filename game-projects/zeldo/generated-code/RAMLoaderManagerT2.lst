                      (C:\Users\bhrou\gi):00001                 org   $0112
                      (C:\Users\bhrou\gi):00002         
                      (C:\Users\bhrou\gi):00003         ********************************************************************************
                      (C:\Users\bhrou\gi):00004         * Gestionnaire de chargement du RAM Loader (TO8 Thomson) - Benoit Rousseau 26/04/2021
                      (C:\Users\bhrou\gi):00005         * ------------------------------------------------------------------------------
                      (C:\Users\bhrou\gi):00006         * 
                      (C:\Users\bhrou\gi):00007         * Copie en page 0 le programme de chargement de RAM, ainsi que les index
                      (C:\Users\bhrou\gi):00008         * des donnees du niveau de jeu a charger
                      (C:\Users\bhrou\gi):00009         *
                      (C:\Users\bhrou\gi):00010         * input REG : [a] Game Mode to load
                      (C:\Users\bhrou\gi):00011         *             [b] Current Game Mode
                      (C:\Users\bhrou\gi):00012         *
                      (C:\Users\bhrou\gi):00013         ********************************************************************************
                      (C:\Users\bhrou\gi):00014                 
                      (C:\Users\bhrou\gi):00015                 INCLUDE "RAMLoaderT2.glb"
     0004             (  RAMLoaderT2.glb):00001         anim EQU $0004
     000A             (  RAMLoaderT2.glb):00002         anim_flags EQU $000A
     0008             (  RAMLoaderT2.glb):00003         anim_frame EQU $0008
     0009             (  RAMLoaderT2.glb):00004         anim_frame_duration EQU $0009
     0001             (  RAMLoaderT2.glb):00005         anim_link_mask EQU $0001
     000B             (  RAMLoaderT2.glb):00006         buf_bgdata EQU $000B
     0007             (  RAMLoaderT2.glb):00007         buf_erase_nb_cell EQU $0007
     0009             (  RAMLoaderT2.glb):00008         buf_erase_routine EQU $0009
     0008             (  RAMLoaderT2.glb):00009         buf_page_erase_routine EQU $0008
     0005             (  RAMLoaderT2.glb):00010         buf_prev_mapping_frame EQU $0005
     0013             (  RAMLoaderT2.glb):00011         buf_prev_render_flags EQU $0013
     000F             (  RAMLoaderT2.glb):00012         buf_prev_x1_pixel EQU $000F
     0011             (  RAMLoaderT2.glb):00013         buf_prev_x2_pixel EQU $0011
     000D             (  RAMLoaderT2.glb):00014         buf_prev_x_pixel EQU $000D
     000F             (  RAMLoaderT2.glb):00015         buf_prev_xy1_pixel EQU $000F
     0011             (  RAMLoaderT2.glb):00016         buf_prev_xy2_pixel EQU $0011
     000D             (  RAMLoaderT2.glb):00017         buf_prev_xy_pixel EQU $000D
     0010             (  RAMLoaderT2.glb):00018         buf_prev_y1_pixel EQU $0010
     0012             (  RAMLoaderT2.glb):00019         buf_prev_y2_pixel EQU $0012
     000E             (  RAMLoaderT2.glb):00020         buf_prev_y_pixel EQU $000E
     0000             (  RAMLoaderT2.glb):00021         buf_priority EQU $0000
     0003             (  RAMLoaderT2.glb):00022         buf_priority_next_obj EQU $0003
     0001             (  RAMLoaderT2.glb):00023         buf_priority_prev_obj EQU $0001
     0001             (  RAMLoaderT2.glb):00024         CONSTANTS_ASM EQU $0001
     6049             (  RAMLoaderT2.glb):00025         dk_drive EQU $6049
     604C             (  RAMLoaderT2.glb):00026         dk_sector EQU $604C
     604A             (  RAMLoaderT2.glb):00027         dk_track EQU $604A
     604B             (  RAMLoaderT2.glb):00028         dk_track_lsb EQU $604B
     604F             (  RAMLoaderT2.glb):00029         dk_write_location EQU $604F
     9F00             (  RAMLoaderT2.glb):00030         dp EQU $9F00
     9FB0             (  RAMLoaderT2.glb):00031         dp_engine EQU $9FB0
     0001             (  RAMLoaderT2.glb):00032         draw_routine EQU $0001
     0006             (  RAMLoaderT2.glb):00033         erase_nb_cell EQU $0006
     0004             (  RAMLoaderT2.glb):00034         erase_routine EQU $0004
     0022             (  RAMLoaderT2.glb):00035         ext_variables EQU $0022
     40F2             (  RAMLoaderT2.glb):00036         fill EQU $40F2
     9FE4             (  RAMLoaderT2.glb):00037         glb_alphaTiles EQU $9FE4
     9FE5             (  RAMLoaderT2.glb):00038         glb_camera_move EQU $9FE5
     9FEB             (  RAMLoaderT2.glb):00039         glb_camera_x_max_pos EQU $9FEB
     9FEF             (  RAMLoaderT2.glb):00040         glb_camera_x_min_pos EQU $9FEF
     9FE8             (  RAMLoaderT2.glb):00041         glb_camera_x_offset EQU $9FE8
     9FF3             (  RAMLoaderT2.glb):00042         glb_camera_x_pos EQU $9FF3
     9FE9             (  RAMLoaderT2.glb):00043         glb_camera_y_max_pos EQU $9FE9
     9FED             (  RAMLoaderT2.glb):00044         glb_camera_y_min_pos EQU $9FED
     9FE7             (  RAMLoaderT2.glb):00045         glb_camera_y_offset EQU $9FE7
     9FF1             (  RAMLoaderT2.glb):00046         glb_camera_y_pos EQU $9FF1
     9FF9             (  RAMLoaderT2.glb):00047         glb_cur_priority EQU $9FF9
     9FF5             (  RAMLoaderT2.glb):00048         glb_cur_ptr_sub_obj_draw EQU $9FF5
     9FF7             (  RAMLoaderT2.glb):00049         glb_cur_ptr_sub_obj_erase EQU $9FF7
     9FE6             (  RAMLoaderT2.glb):00050         glb_force_sprite_refresh EQU $9FE6
     9FE0             (  RAMLoaderT2.glb):00051         glb_Page EQU $9FE0
     9FFE             (  RAMLoaderT2.glb):00052         glb_register_s EQU $9FFE
     9FFC             (  RAMLoaderT2.glb):00053         glb_screen_location_1 EQU $9FFC
     9FFA             (  RAMLoaderT2.glb):00054         glb_screen_location_2 EQU $9FFA
     9F00             (  RAMLoaderT2.glb):00055         glb_system_stack EQU $9F00
     9FE2             (  RAMLoaderT2.glb):00056         glb_timer EQU $9FE2
     9FE1             (  RAMLoaderT2.glb):00057         glb_timer_frame EQU $9FE1
     9FE2             (  RAMLoaderT2.glb):00058         glb_timer_minute EQU $9FE2
     9FE3             (  RAMLoaderT2.glb):00059         glb_timer_second EQU $9FE3
     0000             (  RAMLoaderT2.glb):00060         id EQU $0000
     0006             (  RAMLoaderT2.glb):00061         image_center_offset EQU $0006
     000C             (  RAMLoaderT2.glb):00062         image_set EQU $000C
     0004             (  RAMLoaderT2.glb):00063         image_subset_x1_offset EQU $0004
     0005             (  RAMLoaderT2.glb):00064         image_subset_y1_offset EQU $0005
     0004             (  RAMLoaderT2.glb):00065         image_x_size EQU $0004
     0005             (  RAMLoaderT2.glb):00066         image_y_size EQU $0005
     0008             (  RAMLoaderT2.glb):00067         nb_priority_levels EQU $0008
     0000             (  RAMLoaderT2.glb):00068         next_object EQU 0 ; <<incomplete>>
     0022             (  RAMLoaderT2.glb):00069         object_base_size EQU $0022
     0000             (  RAMLoaderT2.glb):00070         object_rsvd EQU 0 ; <<incomplete>>
     003B             (  RAMLoaderT2.glb):00071         object_rsvd_size EQU $003B
     0000             (  RAMLoaderT2.glb):00072         object_size EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00073         page_draw_routine EQU $0000
     0003             (  RAMLoaderT2.glb):00074         page_erase_routine EQU $0003
     0006             (  RAMLoaderT2.glb):00075         prev_anim EQU $0006
     0003             (  RAMLoaderT2.glb):00076         priority EQU $0003
     40C1             (  RAMLoaderT2.glb):00077         RAMLoader EQU $40C1
     0002             (  RAMLoaderT2.glb):00078         render_flags EQU $0002
     0080             (  RAMLoaderT2.glb):00079         render_hide_mask EQU $0080
     0004             (  RAMLoaderT2.glb):00080         render_overlay_mask EQU $0004
     0008             (  RAMLoaderT2.glb):00081         render_playfieldcoord_mask EQU $0008
     0040             (  RAMLoaderT2.glb):00082         render_subobjects EQU $0040
     0020             (  RAMLoaderT2.glb):00083         render_todelete_mask EQU $0020
     0010             (  RAMLoaderT2.glb):00084         render_xloop_mask EQU $0010
     0001             (  RAMLoaderT2.glb):00085         render_xmirror_mask EQU $0001
     0002             (  RAMLoaderT2.glb):00086         render_ymirror_mask EQU $0002
     40D4             (  RAMLoaderT2.glb):00087         RL_LoadData EQU $40D4
     40F5             (  RAMLoaderT2.glb):00088         RL_RAM_index EQU $40F5
     40C5             (  RAMLoaderT2.glb):00089         RL_While EQU $40C5
     001E             (  RAMLoaderT2.glb):00090         routine EQU $001E
     0021             (  RAMLoaderT2.glb):00091         routine_quaternary EQU $0021
     001F             (  RAMLoaderT2.glb):00092         routine_secondary EQU $001F
     0020             (  RAMLoaderT2.glb):00093         routine_tertiary EQU $0020
     0000             (  RAMLoaderT2.glb):00094         rsv_bgdata_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00095         rsv_bgdata_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00096         rsv_buffer_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00097         rsv_buffer_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00098         rsv_draw_routine EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00099         rsv_erase_nb_cell EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00100         rsv_erase_routine EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00101         rsv_image_center_offset EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00102         rsv_image_subset EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00103         rsv_mapping_frame EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00104         rsv_page_draw_routine EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00105         rsv_page_erase_routine EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00106         rsv_prev_anim EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00107         rsv_prev_erase_nb_cell_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00108         rsv_prev_erase_nb_cell_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00109         rsv_prev_erase_routine_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00110         rsv_prev_erase_routine_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00111         rsv_prev_mapping_frame_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00112         rsv_prev_mapping_frame_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00113         rsv_prev_page_erase_routine_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00114         rsv_prev_page_erase_routine_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00115         rsv_prev_render_flags_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00116         rsv_prev_render_flags_1 EQU 0 ; <<incomplete>>
     0080             (  RAMLoaderT2.glb):00117         rsv_prev_render_onscreen_mask EQU $0080
     0001             (  RAMLoaderT2.glb):00118         rsv_prev_render_overlay_mask EQU $0001
     0000             (  RAMLoaderT2.glb):00119         rsv_prev_x1_pixel_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00120         rsv_prev_x1_pixel_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00121         rsv_prev_x2_pixel_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00122         rsv_prev_x2_pixel_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00123         rsv_prev_x_pixel_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00124         rsv_prev_x_pixel_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00125         rsv_prev_xy1_pixel_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00126         rsv_prev_xy1_pixel_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00127         rsv_prev_xy2_pixel_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00128         rsv_prev_xy2_pixel_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00129         rsv_prev_xy_pixel_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00130         rsv_prev_xy_pixel_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00131         rsv_prev_y1_pixel_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00132         rsv_prev_y1_pixel_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00133         rsv_prev_y2_pixel_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00134         rsv_prev_y2_pixel_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00135         rsv_prev_y_pixel_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00136         rsv_prev_y_pixel_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00137         rsv_priority_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00138         rsv_priority_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00139         rsv_priority_next_obj_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00140         rsv_priority_next_obj_1 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00141         rsv_priority_prev_obj_0 EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00142         rsv_priority_prev_obj_1 EQU 0 ; <<incomplete>>
     0001             (  RAMLoaderT2.glb):00143         rsv_render_checkrefresh_mask EQU $0001
     0004             (  RAMLoaderT2.glb):00144         rsv_render_displaysprite_mask EQU $0004
     0002             (  RAMLoaderT2.glb):00145         rsv_render_erasesprite_mask EQU $0002
     0000             (  RAMLoaderT2.glb):00146         rsv_render_flags EQU 0 ; <<incomplete>>
     0080             (  RAMLoaderT2.glb):00147         rsv_render_onscreen_mask EQU $0080
     0008             (  RAMLoaderT2.glb):00148         rsv_render_outofrange_mask EQU $0008
     0000             (  RAMLoaderT2.glb):00149         rsv_x1_pixel EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00150         rsv_x2_pixel EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00151         rsv_xy1_pixel EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00152         rsv_xy2_pixel EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00153         rsv_y1_pixel EQU 0 ; <<incomplete>>
     0000             (  RAMLoaderT2.glb):00154         rsv_y2_pixel EQU 0 ; <<incomplete>>
     00E3             (  RAMLoaderT2.glb):00155         screen_bottom EQU $00E3
     0030             (  RAMLoaderT2.glb):00156         screen_left EQU $0030
     00CF             (  RAMLoaderT2.glb):00157         screen_right EQU $00CF
     001C             (  RAMLoaderT2.glb):00158         screen_top EQU $001C
     00A0             (  RAMLoaderT2.glb):00159         screen_width EQU $00A0
     0003             (  RAMLoaderT2.glb):00160         sound_end_addr EQU $0003
     0005             (  RAMLoaderT2.glb):00161         sound_meta_size EQU $0005
     0000             (  RAMLoaderT2.glb):00162         sound_page EQU $0000
     0001             (  RAMLoaderT2.glb):00163         sound_start_addr EQU $0001
     4000             (  RAMLoaderT2.glb):00164         start EQU $4000
     000B             (  RAMLoaderT2.glb):00165         status_flags EQU $000B
     0001             (  RAMLoaderT2.glb):00166         status_xflip_mask EQU $0001
     0002             (  RAMLoaderT2.glb):00167         status_yflip_mask EQU $0002
     0001             (  RAMLoaderT2.glb):00168         subtype EQU $0001
     001A             (  RAMLoaderT2.glb):00169         x_acl EQU $001A
     0014             (  RAMLoaderT2.glb):00170         x_pixel EQU $0014
     000E             (  RAMLoaderT2.glb):00171         x_pos EQU $000E
     0010             (  RAMLoaderT2.glb):00172         x_sub EQU $0010
     0016             (  RAMLoaderT2.glb):00173         x_vel EQU $0016
     0014             (  RAMLoaderT2.glb):00174         xy_pixel EQU $0014
     001C             (  RAMLoaderT2.glb):00175         y_acl EQU $001C
     0015             (  RAMLoaderT2.glb):00176         y_pixel EQU $0015
     0011             (  RAMLoaderT2.glb):00177         y_pos EQU $0011
     0013             (  RAMLoaderT2.glb):00178         y_sub EQU $0013
     0018             (  RAMLoaderT2.glb):00179         y_vel EQU $0018
     404D             (  RAMLoaderT2.glb):00180         zx0_code EQU $404D
     404B             (  RAMLoaderT2.glb):00181         zx0_copy EQU $404B
     4000             (  RAMLoaderT2.glb):00182         zx0_decompress EQU $4000
     0001             (  RAMLoaderT2.glb):00183         ZX0_DISABLE_DISABLING_INTERRUPTS EQU $0001
     0040             (  RAMLoaderT2.glb):00184         zx0_dp EQU $0040
     0040             (  RAMLoaderT2.glb):00185         zx0_dp_end EQU $0040
     400F             (  RAMLoaderT2.glb):00186         zx0_eof EQU $400F
     4062             (  RAMLoaderT2.glb):00187         zx0_literals EQU $4062
     4011             (  RAMLoaderT2.glb):00188         zx0_new_offset EQU $4011
     4050             (  RAMLoaderT2.glb):00189         zx0_offset EQU $4050
     40A0             (  RAMLoaderT2.glb):00190         zx0_reload EQU $40A0
     40C0             (  RAMLoaderT2.glb):00191         zx0_rts EQU $40C0
                      (C:\Users\bhrou\gi):00016                 
0112                  (C:\Users\bhrou\gi):00017         RAMLoaderManager
                      (C:\Users\bhrou\gi):00018         
                      (C:\Users\bhrou\gi):00019         * Copie en page 0a des donnees du mode a charger
                      (C:\Users\bhrou\gi):00020         * les groupes de 6 octets sont recopiees a l'envers
                      (C:\Users\bhrou\gi):00021         * la fin des donnees est marquee par un octet negatif ($FF par exemple)
                      (C:\Users\bhrou\gi):00022         ************************************************************       
0112 CE02D7           (C:\Users\bhrou\gi):00023                 ldu   #Gm_Index
0115 58               (C:\Users\bhrou\gi):00024                 aslb
0116 AEC5             (C:\Users\bhrou\gi):00025                 ldx   b,u                      ; load address of current game mode data        
0118 48               (C:\Users\bhrou\gi):00026                 asla
0119 EEC6             (C:\Users\bhrou\gi):00027                 ldu   a,u                      ; load address of new game mode data
                      (C:\Users\bhrou\gi):00028                 
011B 10EE5E           (C:\Users\bhrou\gi):00029                 lds   -2,u                     ; load destination address
011E 5D               (C:\Users\bhrou\gi):00030                 tstb
011F 2B1D             (C:\Users\bhrou\gi):00031                 bmi   RLM_SetPage              ; negative value means first load so nothing to compare
                      (C:\Users\bhrou\gi):00032                 
0121                  (C:\Users\bhrou\gi):00033         RLM_SkipCommon        
0121 ECC4             (C:\Users\bhrou\gi):00034                 ldd   ,u
0123 10A384           (C:\Users\bhrou\gi):00035                 cmpd  ,x   
0126 2616             (C:\Users\bhrou\gi):00036                 bne   RLM_SetPage
0128 EC42             (C:\Users\bhrou\gi):00037                 ldd   2,u
012A 10A302           (C:\Users\bhrou\gi):00038                 cmpd  2,x   
012D 260F             (C:\Users\bhrou\gi):00039                 bne   RLM_SetPage
012F EC44             (C:\Users\bhrou\gi):00040                 ldd   4,u
0131 10A304           (C:\Users\bhrou\gi):00041                 cmpd  4,x   
0134 2608             (C:\Users\bhrou\gi):00042                 bne   RLM_SetPage
0136 327A             (C:\Users\bhrou\gi):00043                 leas  -6,s                     ; adjust destination address
0138 3346             (C:\Users\bhrou\gi):00044                 leau  6,u                      ; adjust new Game Mode source address
013A 3006             (C:\Users\bhrou\gi):00045                 leax  6,x                      ; adjust current Game Mode source address
013C 20E3             (C:\Users\bhrou\gi):00046                 bra   RLM_SkipCommon
                      (C:\Users\bhrou\gi):00047                 
                      (C:\Users\bhrou\gi):00048         * Positionnement de la page 0a en zone 4000-5FFF
                      (C:\Users\bhrou\gi):00049         ***********************************************************
013E                  (C:\Users\bhrou\gi):00050         RLM_SetPage
013E F6E7C3           (C:\Users\bhrou\gi):00051                 ldb   $E7C3                    ; charge l'id de la demi-Page 0 en espace ecran
0141 C4FE             (C:\Users\bhrou\gi):00052                 andb  #$FE                     ; positionne bit0=0 pour page 0 RAMA
0143 F7E7C3           (C:\Users\bhrou\gi):00053                 stb   $E7C3                    ; dans l'espace ecran        
                      (C:\Users\bhrou\gi):00054                 
0146 86FF             (C:\Users\bhrou\gi):00055                 lda   #$FF                     ; ecriture balise de fin
0148 3402             (C:\Users\bhrou\gi):00056                 pshs  a                        ; pour GameModeEngine
014A                  (C:\Users\bhrou\gi):00057         RLM_CopyData
014A 3736             (C:\Users\bhrou\gi):00058                 pulu  d,x,y                    ; on lit 6 octets
014C 3436             (C:\Users\bhrou\gi):00059                 pshs  d,x,y                    ; on ecrit 6 octets
014E 4D               (C:\Users\bhrou\gi):00060                 tsta                           ; balise de fin dans REG A
014F 2AF9             (C:\Users\bhrou\gi):00061                 bpl   RLM_CopyData             ; non => boucle
0151 3266             (C:\Users\bhrou\gi):00062                 leas  6,s                      ; on remote de 6 car le dernier bloc est une balise de fin
                      (C:\Users\bhrou\gi):00063         
                      (C:\Users\bhrou\gi):00064         * Copie en page 0a du code Game Mode Engine
                      (C:\Users\bhrou\gi):00065         * les groupes de 7 octets sont recopiees a l'envers, le builder va inverser
                      (C:\Users\bhrou\gi):00066         * les donnees a l'avance on gagne un leas dans la boucle.
                      (C:\Users\bhrou\gi):00067         ************************************************************    
0153 CE0167           (C:\Users\bhrou\gi):00068                 ldu   #RAMLoaderBin            ; source
0156                  (C:\Users\bhrou\gi):00069         RLM_CopyCode
0156 373E             (C:\Users\bhrou\gi):00070                 pulu  d,x,y,dp                 ; on lit 7 octets
0158 343E             (C:\Users\bhrou\gi):00071                 pshs  d,x,y,dp                 ; on ecrit 7 octets
015A 118C4000         (C:\Users\bhrou\gi):00072                 cmps  #$4000                   ; fin ?
015E 26F6             (C:\Users\bhrou\gi):00073                 bne   RLM_CopyCode             ; non => boucle
0160                  (C:\Users\bhrou\gi):00074         RLM_CopyCode_restore_s
0160 10CE9F00         (C:\Users\bhrou\gi):00075                 lds   #glb_system_stack        ; positionnement pile systeme
                      (C:\Users\bhrou\gi):00076                 
                      (C:\Users\bhrou\gi):00077         * Execution du RAMLoader en page 0a
                      (C:\Users\bhrou\gi):00078         ************************************************************
0164 7E40C1           (C:\Users\bhrou\gi):00079                 jmp   RAMLoader     
                      (C:\Users\bhrou\gi):00080         
                      (C:\Users\bhrou\gi):00081         * ==============================================================================
                      (C:\Users\bhrou\gi):00082         * RAMLoader
                      (C:\Users\bhrou\gi):00083         * ==============================================================================
0167                  (C:\Users\bhrou\gi):00084         RAMLoaderBin
0167 400020D300000005 (C:\Users\bhrou\gi):00085                 INCLUDEBIN "RAMLoaderT2.bin"
     55AEA1EEA1BDAAC6
     C0F70555B7F70555
     C655F7026100F7E7
     E5C6AA9F00869F1F
     8B7EF5ECA12A0B10
     CE4925F439108E40
     094E482603A68248
     5948240C48592416
     4859482411824924
     1B48594825F7D74F
     20ABA64859482602
     8D062603A6824924
     09258AC6010F4E48
     E7C2313F26F848D7
     4F109E4EE6824826
     028D2B25F7A68249
     24094859C6010F4E
     482603F88EFFFF48
     25AFE6A2E7C2301F
     268EFFFF31C9FFFF
     4F26020C4E9F5D02
     8D5E25F75CD70124
     094859482626020C
     52D753C656D752E6
     82565CF70F4E5D27
     E65A594826028D7E
     2503A68249240948
     5335AFC601482652
     CC80401F9B20342F
     CC0001FD40
                      (C:\Users\bhrou\gi):00086                 INCLUDE "BuilderFileIndexT2.asm"
                      (BuilderFileIndexT):00001         * Generated Code
                      (BuilderFileIndexT):00002         
                      (BuilderFileIndexT):00003         * structure: rom src page, rom src end addr. hb, rom src end addr. lb, ram dest page, ram dest end addr. hb, ram dest end addr. lb
025C 416E             (BuilderFileIndexT):00004                 fdb   RL_RAM_index+121
025E                  (BuilderFileIndexT):00005         gm_LostWoods
025E 10043F95E000     (BuilderFileIndexT):00006                 fcb   $10,$04,$3F,$95,$E0,$00
0264 10043691BFFE     (BuilderFileIndexT):00007                 fcb   $10,$04,$36,$91,$BF,$FE
026A 110536BCE000     (BuilderFileIndexT):00008                 fcb   $11,$05,$36,$BC,$E0,$00
0270 10052D90BFFD     (BuilderFileIndexT):00009                 fcb   $10,$05,$2D,$90,$BF,$FD
0276 10062473E000     (BuilderFileIndexT):00010                 fcb   $10,$06,$24,$73,$E0,$00
027C 100619CDBFBC     (BuilderFileIndexT):00011                 fcb   $10,$06,$19,$CD,$BF,$BC
0282 11072B60D2C0     (BuilderFileIndexT):00012                 fcb   $11,$07,$2B,$60,$D2,$C0
0288 10071238E000     (BuilderFileIndexT):00013                 fcb   $10,$07,$12,$38,$E0,$00
028E 110722F3C000     (BuilderFileIndexT):00014                 fcb   $11,$07,$22,$F3,$C0,$00
0294 11081D19E000     (BuilderFileIndexT):00015                 fcb   $11,$08,$1D,$19,$E0,$00
029A 110813F4C000     (BuilderFileIndexT):00016                 fcb   $11,$08,$13,$F4,$C0,$00
02A0 11090AA5E000     (BuilderFileIndexT):00017                 fcb   $11,$09,$0A,$A5,$E0,$00
02A6 12093D1EC000     (BuilderFileIndexT):00018                 fcb   $12,$09,$3D,$1E,$C0,$00
02AC 120A3215E000     (BuilderFileIndexT):00019                 fcb   $12,$0A,$32,$15,$E0,$00
02B2 120A260FC000     (BuilderFileIndexT):00020                 fcb   $12,$0A,$26,$0F,$C0,$00
02B8 120B1A0FE000     (BuilderFileIndexT):00021                 fcb   $12,$0B,$1A,$0F,$E0,$00
02BE 120B0CD6C000     (BuilderFileIndexT):00022                 fcb   $12,$0B,$0C,$D6,$C0,$00
02C4 130C3219E000     (BuilderFileIndexT):00023                 fcb   $13,$0C,$32,$19,$E0,$00
02CA 130C2017B9B8     (BuilderFileIndexT):00024                 fcb   $13,$0C,$20,$17,$B9,$B8
02D0 1301135BCE23     (BuilderFileIndexT):00025                 fcb   $13,$01,$13,$5B,$CE,$23
02D6 FF               (BuilderFileIndexT):00026                 fcb   $FF
02D7                  (BuilderFileIndexT):00027         Gm_Index
02D7 025E             (BuilderFileIndexT):00028                 fdb   gm_LostWoods
